import{d as b,w as l}from"./index.6f5c49cf.js";import{M as S}from"./scheduler.9d239364.js";let y,w;function E(e){if(typeof document>"u")return;clearTimeout(y),clearTimeout(w);const n=document.createElement("style"),o=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);n.appendChild(o);const t=()=>document.head.appendChild(n),a=()=>document.head.removeChild(n);if(typeof window.getComputedStyle<"u"){t(),e(),window.getComputedStyle(n).opacity,a();return}if(typeof window.requestAnimationFrame<"u"){t(),e(),window.requestAnimationFrame(a);return}t(),y=window.setTimeout(()=>{e(),w=window.setTimeout(a,120)},120)}function p(e){return e.filter(n=>n.length>0)}const M={getItem:e=>null,setItem:(e,n)=>{}},f=typeof document<"u",T=["dark","light","system"],I=l("mode-watcher-mode"),V=l("mode-watcher-theme"),g=C(),A=x(),_=l(void 0),L=D(),k=l(!0),q=l([]),z=l([]),j=F(),B=K();function C(){const e="system",n=f?localStorage:M,o=n.getItem(a());let t=v(o)?o:e;function a(){return S(I)}const{subscribe:d,set:r}=l(t,()=>{if(!f)return;const i=c=>{if(c.key!==a())return;const m=c.newValue;v(m)?r(t=m):r(t=e)};return addEventListener("storage",i),()=>removeEventListener("storage",i)});function s(i){r(t=i),n.setItem(a(),t)}return{subscribe:d,set:s}}function D(){const e=f?localStorage:M,n=e.getItem(t());let o=n??"";function t(){return S(V)}const{subscribe:a,set:d}=l(o,()=>{if(!f)return;const s=i=>{if(i.key!==t())return;const c=i.newValue;d(c===null?o="":o=c)};return addEventListener("storage",s),()=>removeEventListener("storage",s)});function r(s){d(o=s),e.setItem(t(),o)}return{subscribe:a,set:r}}function x(){let n=!0;const{subscribe:o,set:t}=l(void 0,()=>{if(!f)return;const r=i=>{n&&t(i.matches?"light":"dark")},s=window.matchMedia("(prefers-color-scheme: light)");return s.addEventListener("change",r),()=>s.removeEventListener("change",r)});function a(){if(!f)return;const r=window.matchMedia("(prefers-color-scheme: light)");t(r.matches?"light":"dark")}function d(r){n=r}return{subscribe:o,query:a,tracking:d}}function F(){const{subscribe:e}=b([g,A,_,k,q,z],([n,o,t,a,d,r])=>{if(!f)return;const s=n==="system"?o:n,i=p(d),c=p(r);function m(){const u=document.documentElement,h=document.querySelector('meta[name="theme-color"]');s==="light"?(i.length&&u.classList.remove(...i),c.length&&u.classList.add(...c),u.style.colorScheme="light",h&&t&&h.setAttribute("content",t.light)):(c.length&&u.classList.remove(...c),i.length&&u.classList.add(...i),u.style.colorScheme="dark",h&&t&&h.setAttribute("content",t.dark))}return a?E(m):m(),s});return{subscribe:e}}function K(){const{subscribe:e}=b([L,k],([n,o])=>{if(!f)return;function t(){document.documentElement.setAttribute("data-theme",n)}return o?E(t):t(),n});return{subscribe:e}}function v(e){return typeof e!="string"?!1:T.includes(e)}function U(e){g.set(e)}function G(){g.set("system")}function H(e){L.set(e)}function J(e){return e}function N({defaultMode:e="system",themeColors:n,darkClassNames:o=["dark"],lightClassNames:t=[],defaultTheme:a="",modeStorageKey:d="mode-watcher-mode",themeStorageKey:r="mode-watcher-theme"}){const s=document.documentElement,i=localStorage.getItem(d)||e,c=localStorage.getItem(r)||a,m=i==="light"||i==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(m?(o.length&&s.classList.remove(...o),t.length&&s.classList.add(...t)):(t.length&&s.classList.remove(...t),o.length&&s.classList.add(...o)),s.style.colorScheme=m?"light":"dark",n){const u=document.querySelector('meta[name="theme-color"]');u&&u.setAttribute("content",i==="light"?n.light:n.dark)}c&&(s.setAttribute("data-theme",c),localStorage.setItem(r,c)),localStorage.setItem(d,i)}export{B as a,A as b,U as c,j as d,H as e,k as f,_ as g,q as h,v as i,J as j,z as l,I as m,G as r,N as s,V as t};
